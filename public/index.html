<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AnimePahe API</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body { background-color: #111827; color: #d1d5db; }
    .card { background-color: #1f2937; border-color: #374151; }
    .code { background-color: #374151; color: #9ca3af; }
    .text-primary { color: #60a5fa; }
    .btn-primary { background-color: #3b82f6; color: white; }
    .btn-outline { border-color: #4b5563; color: #9ca3af; }
    .text-muted-foreground { color: #9ca3af; }
    .text-accent-foreground { color: #e5e7eb; }
  </style>
</head>
<body class="font-sans">
<main class="min-h-screen">
  <div class="container mx-auto max-w-5xl px-4 py-8 sm:py-16">
    <header class="text-center mb-12">
      <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold tracking-tight text-primary">
        AnimePahe API
      </h1>
      <p class="mt-4 text-lg text-muted-foreground max-w-3xl mx-auto">
        A simple, fast, and reliable API for scraping data from AnimePahe. Use the endpoints below to get started.
      </p>
    </header>

    <div class="mb-12">
      <div class="card max-w-2xl mx-auto shadow-lg rounded-lg">
        <div class="p-6 pb-4">
          <h2 class="flex items-center gap-3 text-primary text-2xl font-semibold">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 animate-pulse"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.3.05-3.1S5.34 15.66 4.5 16.5z"></path><path d="M17.5 7.5c1.5-1.26 2-5 2-5s-3.74.5-5 2c-.71.84-.7 2.3-.05 3.1s2.29 1.84 3.05 1.4z"></path><path d="M19 5s-2 3-5 3-5-3-5-3"></path><path d="m12 12 1 1"></path><path d="m18 8-5 5"></path><path d="m6 18 5-5"></path></svg>
            Your Public Tunnel
          </h2>
          <p class="text-muted-foreground">Use this URL and password to access your API from anywhere.</p>
        </div>
        <div class="p-6 pt-0 space-y-4">
          <div>
            <h3 class="text-sm font-semibold text-muted-foreground mb-2">URL</h3>
            <div id="tunnel-url-container" class="flex items-center gap-2">
              <!-- URL will be injected here -->
              <p class="font-mono bg-gray-700 p-3 rounded-md text-sm h-[48px] flex-grow animate-pulse"></p>
            </div>
          </div>
           <div>
            <h3 class="text-sm font-semibold text-muted-foreground mb-2 flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                Password
            </h3>
            <div id="tunnel-password-container" class="flex items-center gap-2">
              <!-- Password will be injected here -->
               <p class="font-mono bg-gray-700 p-3 rounded-md text-sm h-[48px] flex-grow animate-pulse"></p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="grid gap-6 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3">
      <div class="card flex flex-col transition-all duration-300 hover:shadow-xl hover:-translate-y-1 rounded-lg">
        <div class="p-6">
          <h3 class="text-xl font-semibold">Search Anime</h3>
          <p class="text-muted-foreground">Search for anime by query.</p>
        </div>
        <div class="p-6 pt-0 flex-grow flex flex-col justify-between">
          <code class="block font-mono p-3 rounded-md text-sm mb-4 code">/api/animepahe/search/[query]</code>
          <a id="search-example" href="#" target="_blank" class="text-sm font-semibold text-primary hover:underline flex items-center disabled:opacity-50" aria-disabled="true">
            Example <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 ml-1"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
          </a>
        </div>
      </div>
      <div class="card flex flex-col transition-all duration-300 hover:shadow-xl hover:-translate-y-1 rounded-lg">
        <div class="p-6">
          <h3 class="text-xl font-semibold">Anime Info</h3>
          <p class="text-muted-foreground">Get details for a specific anime.</p>
        </div>
        <div class="p-6 pt-0 flex-grow flex flex-col justify-between">
          <code class="block font-mono p-3 rounded-md text-sm mb-4 code break-all">/api/animepahe/info/[animeId]</code>
          <a id="info-example" href="#" target="_blank" class="text-sm font-semibold text-primary hover:underline flex items-center disabled:opacity-50" aria-disabled="true">
            Example <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 ml-1"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
          </a>
        </div>
      </div>
      <div class="card flex flex-col transition-all duration-300 hover:shadow-xl hover:-translate-y-1 rounded-lg">
        <div class="p-6">
          <h3 class="text-xl font-semibold">Episode Sources</h3>
          <p class="text-muted-foreground">Fetch video sources for an episode.</p>
        </div>
        <div class="p-6 pt-0 flex-grow flex flex-col justify-between">
          <code class="block font-mono p-3 rounded-md text-sm mb-4 code break-all">/api/animepahe/sources/[episodeId]</code>
          <a id="sources-example" href="#" target="_blank" class="text-sm font-semibold text-primary hover:underline flex items-center disabled:opacity-50" aria-disabled="true">
            Example <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 ml-1"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</main>
<script>
  function copyToClipboard(textToCopy) {
    navigator.clipboard.writeText(textToCopy);
  }

  function createCopyButton(text) {
      const button = document.createElement('button');
      button.onclick = () => {
          copyToClipboard(text);
          const icon = button.querySelector('svg');
          icon.outerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4 text-green-500"><path d="M20 6 9 17l-5-5"></path></svg>`;
          setTimeout(() => {
            icon.outerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>`;
          }, 2000);
      };
      button.className = 'p-2 rounded-md btn-outline';
      button.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>`;
      return button;
  }

  document.addEventListener('DOMContentLoaded', () => {
    const exampleAnimeId = 'bfa8d26d-3bc8-7634-4a6c-441f7362a4cf';
    const exampleEpisodeId = 'bfa8d26d-3bc8-7634-4a6c-441f7362a4cf/7d3e344b0afab7fdbcc54a6680a6d5e489af45482337eb17cb2fa15f1d48165d';

    const interval = setInterval(() => {
      fetch('/tunnel-details.json')
        .then(res => res.ok ? res.json() : null)
        .then(data => {
          if (data && data.url) {
            const urlContainer = document.getElementById('tunnel-url-container');
            urlContainer.innerHTML = `
              <a href="${data.url}" target="_blank" rel="noopener noreferrer" class="font-mono p-3 rounded-md text-sm block text-center break-all text-accent-foreground hover:underline flex-grow code">
                ${data.url}
              </a>
            `;
            urlContainer.appendChild(createCopyButton(data.url));
            
            const passwordContainer = document.getElementById('tunnel-password-container');
            passwordContainer.innerHTML = `
                <p class="font-mono p-3 rounded-md text-sm block text-center break-all text-accent-foreground flex-grow code">
                    ${data.password}
                </p>
            `;
             passwordContainer.appendChild(createCopyButton(data.password));


            const searchExample = document.getElementById('search-example');
            searchExample.href = `${data.url}/api/animepahe/search/overlord`;
            searchExample.removeAttribute('aria-disabled');

            const infoExample = document.getElementById('info-example');
            infoExample.href = `${data.url}/api/animepahe/info/${exampleAnimeId}`;
            infoExample.removeAttribute('aria-disabled');

            const sourcesExample = document.getElementById('sources-example');
            sourcesExample.href = `${data.url}/api/animepahe/sources/${exampleEpisodeId}`;
            sourcesExample.removeAttribute('aria-disabled');

            clearInterval(interval);
          }
        })
        .catch(console.error);
    }, 1000);
  });
</script>
</body>
</html>
